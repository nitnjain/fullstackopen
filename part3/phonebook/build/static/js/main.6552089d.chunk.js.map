{"version":3,"sources":["services/person.js","App.js","index.js"],"names":["baseUrl","services","getAll","axios","get","then","response","data","add","newObject","post","update","id","put","remove","delete","Notification","msg","msgStyle","color","backgroundColor","type","fontSize","padding","style","Filter","search","handleSearchChange","value","onChange","PersonForm","props","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","Persons","persons","removePerson","map","person","name","number","onClick","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMsg","useEffect","personService","personsToShow","filter","p","match","RegExp","e","target","preventDefault","some","toLowerCase","window","confirm","existingObj","find","updatedObj","setInterval","catch","error","concat","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6552089d.chunk.js","sourcesContent":["import axios from \"axios\"\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject, id) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst services = { getAll, add, update, remove }\r\n\r\nexport default services","import React, {useEffect, useState} from \"react\"\r\nimport personService from './services/person'\r\n\r\nconst Notification = ({ msg }) => {\r\n    if(msg === null) {\r\n        return null\r\n    }\r\n\r\n    const msgStyle = {\r\n        color: \"#eee\",\r\n        backgroundColor: msg.type === \"s\" ? \"green\" : \"red\",\r\n        fontSize: 25,\r\n        padding: 5\r\n    }\r\n\r\n    return (\r\n        <div style={msgStyle}>\r\n            {msg.msg}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Filter = ({ search, handleSearchChange }) => {\r\n    return (\r\n        <div>\r\n            Search: <input value={search} onChange={handleSearchChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.addName}>\r\n                <div>\r\n                    name: <input value={props.newName} onChange={props.handleNameChange} /><br />\r\n                    number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Persons = ({ persons, removePerson }) => { \r\n    return (\r\n        <div>\r\n            <ul>\r\n                {persons.map(person => <li key={person.id}>{person.name} - {person.number} <button onClick={() => removePerson(person.id)}>delete</button></li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ search, setSearch ] = useState('')\r\n\r\n    const [ msg, setMsg ] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n        .getAll()\r\n        .then(response => {\r\n            setPersons(response)\r\n        })\r\n    }, [])\r\n\r\n    const handleNameChange = (e) => {\r\n        setNewName(e.target.value)\r\n    }\r\n    \r\n    const handleNumberChange = (e) => {\r\n        setNewNumber(e.target.value)\r\n    }\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearch(e.target.value)\r\n    }\r\n\r\n    const addName = (e) => {\r\n        e.preventDefault()\r\n\r\n        if(persons.some(p => p.name.toLowerCase() === newName.toLowerCase())) {\r\n            const updateConfirm = window.confirm(`${newName} already exists in the phonebook, do you want to update their number?`)\r\n\r\n            if(updateConfirm) {\r\n                const existingObj = persons.find(p => p.name.toLowerCase() === newName.toLowerCase())\r\n\r\n                const updatedObj = { ...existingObj, number: newNumber }\r\n\r\n                personService.update(updatedObj, existingObj.id)\r\n                .then(response => {\r\n                    setPersons(persons.map(p => p.id === existingObj.id ? response : p))\r\n\r\n                    setMsg({ msg: `${updatedObj.name}'s number has been updated in the phonebook`, type: 's' })\r\n                    setInterval(() => {\r\n                        setMsg(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(e => {\r\n                    setMsg({ msg: e.response.data.error, type: 'e' })\r\n                    setInterval(() => {\r\n                        setMsg(null)\r\n                    }, 5000)\r\n                })\r\n            }\r\n\r\n            setNewNumber('')\r\n            setNewName('')\r\n\r\n            return null;\r\n        }\r\n\r\n        const newObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        personService.add(newObject)\r\n        .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setMsg({ msg: `${response.name} has been added to the phonebook`, type: 's' })\r\n            setInterval(() => {\r\n                setMsg(null)\r\n            }, 5000)\r\n        })\r\n        .catch(e => {\r\n            setMsg({ msg: e.response.data.error, type: 'e' })\r\n            setInterval(() => {\r\n                setMsg(null)\r\n            }, 5000)\r\n        })\r\n\r\n        setNewNumber('')\r\n        setNewName('')\r\n    }\r\n\r\n    const removePerson = (id) => {\r\n        const personToRemove = persons.find(p => p.id === id)\r\n        const confirm = window.confirm(`Do yo want to delete ${personToRemove.name}`);\r\n        \r\n        if(confirm) {\r\n            personService.remove(id)\r\n            .then(() => {\r\n                setPersons(persons.filter(p => p.id !== id))\r\n                setMsg({ msg: `Successfully removed from the phonebook`, type: 's' })\r\n                setInterval(() => {\r\n                    setMsg(null)\r\n                }, 5000)\r\n            })\r\n            .catch(() => {\r\n                setMsg({ msg: `The contact has already been removed from the phonebook`, type: 'e' })\r\n                setInterval(() => {\r\n                    setMsg(null)\r\n                }, 5000)\r\n            })\r\n        }\r\n    }\r\n\r\n    const personsToShow = persons.filter(p => p.name.match(new RegExp(search, 'i')))\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification msg={msg} />\r\n            <br />\r\n            <Filter search={search} handleSearchChange={handleSearchChange} />\r\n            <h3>Add New</h3>\r\n            <PersonForm addName={addName} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\r\n            <h2>Numbers</h2>\r\n            <Persons persons={personsToShow} removePerson={removePerson} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}